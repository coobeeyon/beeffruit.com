---
import Base from "../../layouts/Base.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
---

<Base 
  title="Which Fruit Are You? | BeefFruit Quiz"
  description="Take our scientifically questionable personality test to discover your inner produce. 2.8M people have taken this quiz!"
>
  <Fragment slot="header"><Header /></Fragment>
  
  <div class="max-w-4xl mx-auto px-4 py-8">
    <div class="text-center mb-8">
      <h1 class="text-5xl font-black mb-4">
        <span class="text-6xl">🤯</span> WHICH FRUIT ARE YOU?
      </h1>
      <p class="text-xl text-gray-600 mb-2">
        Our patented 47-question* personality algorithm will reveal your true fruity essence
      </p>
      <p class="text-sm text-gray-500">
        *Quiz shortened to 5 questions after participants reported existential crises
      </p>
      <div class="mt-4 flex justify-center gap-4 text-sm">
        <span class="font-bold">2,847,293 participants</span>
        <span>•</span>
        <span>98.7% accuracy (self-reported)</span>
        <span>•</span>
        <span>3 min to complete</span>
      </div>
    </div>
    
    <div id="quiz-container" class="bg-white border-2 border-gray-200 p-8">
      <!-- Question 1 -->
      <div class="quiz-question" data-question="1">
        <h2 class="text-2xl font-bold mb-6">Question 1 of 5</h2>
        <p class="text-xl mb-6">How do you feel about beef?</p>
        <div class="space-y-3">
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="watermelon">
            A) It's basically a fruit if you think about it
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="apple">
            B) Neutral. I respect all food groups equally
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="durian">
            C) I AM beef
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="tomato">
            D) It's complicated
          </button>
        </div>
      </div>
      
      <!-- Question 2 -->
      <div class="quiz-question hidden" data-question="2">
        <h2 class="text-2xl font-bold mb-6">Question 2 of 5</h2>
        <p class="text-xl mb-6">Your ideal vacation involves:</p>
        <div class="space-y-3">
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="pineapple">
            A) A tropical beach where I can photosynthesize
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="apple">
            B) An orchard tour with structured activities
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="dragonfruit">
            C) Interdimensional travel
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="grape">
            D) Hanging out in clusters with friends
          </button>
        </div>
      </div>
      
      <!-- Question 3 -->
      <div class="quiz-question hidden" data-question="3">
        <h2 class="text-2xl font-bold mb-6">Question 3 of 5</h2>
        <p class="text-xl mb-6">How many hours of sleep do you need?</p>
        <div class="space-y-3">
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="banana">
            A) Sleep is for the weak. I photosynthesize energy
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="orange">
            B) Exactly 8 hours, vitamin C doesn't generate itself
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="durian">
            C) I hibernate for months then stay awake for weeks
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="avocado">
            D) I'm always in a state of ripeness meditation
          </button>
        </div>
      </div>
      
      <!-- Question 4 -->
      <div class="quiz-question hidden" data-question="4">
        <h2 class="text-2xl font-bold mb-6">Question 4 of 5</h2>
        <p class="text-xl mb-6">Your biggest fear is:</p>
        <div class="space-y-3">
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="strawberry">
            A) Being mistaken for a vegetable
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="watermelon">
            B) Dehydration
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="coconut">
            C) Falling from great heights
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="tomato">
            D) Identity crisis (Am I fruit? Am I vegetable? Am I MEAT?)
          </button>
        </div>
      </div>
      
      <!-- Question 5 -->
      <div class="quiz-question hidden" data-question="5">
        <h2 class="text-2xl font-bold mb-6">Question 5 of 5</h2>
        <p class="text-xl mb-6">The meaning of life is:</p>
        <div class="space-y-3">
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="mango">
            A) To be sweet and leave a lasting impression
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="lemon">
            B) To make others pucker with truth
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="passionfruit">
            C) PASSION. INTENSITY. SEEDS EVERYWHERE.
          </button>
          <button class="quiz-answer w-full text-left p-4 border-2 border-gray-200 hover:border-yellow-400 hover:bg-yellow-50 transition-all" data-points="kiwi">
            D) To be fuzzy on the outside, green on the inside
          </button>
        </div>
      </div>
      
      <!-- Results -->
      <div id="quiz-results" class="hidden">
        <h2 class="text-3xl font-black mb-6 text-center">YOUR RESULT:</h2>
        <div class="text-center">
          <p class="text-8xl mb-4" id="result-emoji"></p>
          <h3 class="text-4xl font-black mb-4" id="result-fruit"></h3>
          <p class="text-xl text-gray-600 mb-6" id="result-description"></p>
          
          <div class="bg-gray-100 p-6 mb-6">
            <h4 class="font-bold mb-2">Your Fruit Stats:</h4>
            <div class="grid grid-cols-3 gap-4 text-sm">
              <div>
                <span class="font-bold">Sweetness:</span>
                <div id="stat-sweetness"></div>
              </div>
              <div>
                <span class="font-bold">Chaos Level:</span>
                <div id="stat-chaos"></div>
              </div>
              <div>
                <span class="font-bold">Beef Compatibility:</span>
                <div id="stat-beef"></div>
              </div>
            </div>
          </div>
          
          <div class="flex gap-4 justify-center">
            <button onclick="location.reload()" class="bg-yellow-400 text-black font-bold px-6 py-3 hover:bg-yellow-500 transition-colors">
              RETAKE QUIZ
            </button>
            <button onclick="shareResult()" class="bg-blue-600 text-white font-bold px-6 py-3 hover:bg-blue-700 transition-colors">
              SHARE RESULT
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Other Quizzes -->
    <div class="mt-12">
      <h2 class="text-2xl font-bold mb-4">More Personality Tests</h2>
      <div class="grid md:grid-cols-3 gap-4">
        <a href="/quizzes/which-beef-cut-matches-your-soul" class="p-4 border-2 border-gray-200 hover:border-yellow-400 transition-colors">
          <h3 class="font-bold">Which Beef Cut Matches Your Soul?</h3>
          <p class="text-sm text-gray-600 mt-2">847K have discovered their meat essence</p>
        </a>
        <a href="/quizzes/are-you-more-beef-or-fruit" class="p-4 border-2 border-gray-200 hover:border-yellow-400 transition-colors">
          <h3 class="font-bold">Are You More Beef or Fruit?</h3>
          <p class="text-sm text-gray-600 mt-2">The ultimate identity test</p>
        </a>
        <a href="/quizzes/what-vegetable-are-you-pretending-to-be" class="p-4 border-2 border-gray-200 hover:border-yellow-400 transition-colors">
          <h3 class="font-bold">What Vegetable Are You Pretending To Be?</h3>
          <p class="text-sm text-gray-600 mt-2">Expose your true nature</p>
        </a>
      </div>
    </div>
  </div>
  
  <Fragment slot="footer"><Footer /></Fragment>
</Base>

<script>
  const results = {
    watermelon: {
      emoji: '🍉',
      name: 'WATERMELON',
      description: 'You are 92% water and 8% pure chaos. You\'re the life of the party but also mostly liquid.',
      sweetness: '⭐⭐⭐⭐⭐',
      chaos: '⭐⭐⭐⭐',
      beef: '⭐⭐ (Surprisingly compatible)'
    },
    apple: {
      emoji: '🍎',
      name: 'APPLE',
      description: 'Classic, reliable, possibly controlling all technology from the shadows.',
      sweetness: '⭐⭐⭐',
      chaos: '⭐',
      beef: '⭐⭐⭐⭐ (Traditional pairing)'
    },
    mango: {
      emoji: '🥭',
      name: 'MANGO',
      description: 'Exotic, sweet, and slightly intimidating. You leave a lasting impression and sticky fingers.',
      sweetness: '⭐⭐⭐⭐⭐',
      chaos: '⭐⭐⭐',
      beef: '⭐⭐⭐ (Surprisingly good in tacos)'
    },
    durian: {
      emoji: '👃',
      name: 'DURIAN',
      description: 'You are an acquired taste. People either love you or flee in terror. There is no middle ground.',
      sweetness: '⭐⭐',
      chaos: '⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐',
      beef: '❌ (Illegal combination)'
    },
    tomato: {
      emoji: '🍅',
      name: 'TOMATO',
      description: 'Neither fruit nor vegetable, possibly meat. You thrive in ambiguity and ketchup form.',
      sweetness: '⭐⭐',
      chaos: '⭐⭐⭐⭐⭐',
      beef: '⭐⭐⭐⭐⭐ (Perfect harmony)'
    },
    default: {
      emoji: '🍌',
      name: 'BANANA',
      description: 'You\'re appealing, slightly radioactive, and constantly compared to things for scale.',
      sweetness: '⭐⭐⭐⭐',
      chaos: '⭐⭐⭐',
      beef: '⭐ (Questionable choice)'
    }
  };
  
  let scores = {};
  let currentQuestion = 1;
  
  document.querySelectorAll('.quiz-answer').forEach(button => {
    button.addEventListener('click', function() {
      const fruit = this.dataset.points;
      scores[fruit] = (scores[fruit] || 0) + 1;
      
      // Hide current question
      document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('hidden');
      
      currentQuestion++;
      
      if (currentQuestion <= 5) {
        // Show next question
        document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('hidden');
      } else {
        // Calculate result
        let maxScore = 0;
        let resultFruit = 'default';
        
        for (const [fruit, score] of Object.entries(scores)) {
          if (score > maxScore) {
            maxScore = score;
            resultFruit = fruit;
          }
        }
        
        // Show results
        const result = results[resultFruit] || results.default;
        document.getElementById('result-emoji').textContent = result.emoji;
        document.getElementById('result-fruit').textContent = `You are a ${result.name}!`;
        document.getElementById('result-description').textContent = result.description;
        document.getElementById('stat-sweetness').textContent = result.sweetness;
        document.getElementById('stat-chaos').textContent = result.chaos;
        document.getElementById('stat-beef').textContent = result.beef;
        
        document.getElementById('quiz-results').classList.remove('hidden');
      }
    });
  });
  
  function shareResult() {
    alert('Sharing disabled after too many people discovered they were durians and society collapsed');
  }
</script>